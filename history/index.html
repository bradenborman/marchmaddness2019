<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Market</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
      <!-- jQuery library -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <!-- Popper JS -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
      <!-- Latest compiled JavaScript -->
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
      <link rel="stylesheet" type="text/css" href="css/style.css">
	  <link href='https://fonts.googleapis.com/css?family=Alfa Slab One' rel='stylesheet'>
	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
   </head>
   
<body>

	<div class="header bg-info mb-3">
			<h1>Courtside Cash</h1>
	<div id="links">							
		<a class="nav-link" href="../portfolio/index.html">Portfolio</a>
		<a class="nav-link" href="../index.html">Log Out</a><!-- PHP page to log out -->
	</div>
				
	</div>
   
   	
	


<div class="container">	
		
<div id="Search">
<div class="row">	
				<div class="col-md-12">
					  <div class="custom-control custom-radio custom-control-inline">
						<input type="radio" class="custom-control-input" id="isOnlyMeRad" name="isOnlyMe" onchange="showOnlyme()" value="True">
						<label class="custom-control-label" for="isOnlyMeRad">My Transactions</label>
					  </div>
					  <div class="custom-control custom-radio custom-control-inline">
						<input checked onchange="showEveryOne()" type="radio" class="custom-control-input" id="isOnlyMeRad2" name="isOnlyMe" value="False">
						<label class="custom-control-label" for="isOnlyMeRad2">All Transactions</label>
					  </div> 
				</div>
				<div class="col-md-6">
							<div class="input-group mt-3 mb-3">
							  <div class="input-group-prepend">
								<button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown">
								  My Teams
								</button>
								<div class="dropdown-menu">
								  <span>Missouri</span>
								  <span>Texas</span>
								</div>
							  </div>
							  <input type="text" class="form-control" placeholder='Seach' id="teamSerachInput" onkeyup="myFunction()">
							  <div class="input-group-append">
								  <span class="input-group-text"><i class="fas fa-search"></i></span>
								</div>
							</div>
				</div>
		</div>
</div>	
</div>
	
<div class="container app">				
	<div class="row">
		<div class="col-lg-8">
		<div class="table-responsive">		
<table id="myTable" class="table">
  <tr class="header">
    <th>Team</th>
	<th>Action</th>
    <th>Amount</th>
	<th>Price</th>
	<th>Round</th>
	<th>Identity</th>
  </tr>
  <tr>
    <td>Missouri</td>
	<td><span class="badge badge-success">Sell</span></td>
    <td>15</td>
	<td>$25,200</td>
	<td>32</td>
	<td>Brent Thoenen</td>
  </tr>
  <tr>
    <td>UCLA</td>
	<td><span class="badge badge-info">Buy</span></td>
    <td>8</td>
	<td>$35,200</td>
	<td>64</td>
	<td>Cory Loeffelman</td>
  </tr>
  <tr>
    <td>Texas</td>
	<td><span class="badge badge-info">Buy</span></td>
    <td>5</td>
	<td>$11,200</td>
	<td>64</td>
	<td>Cory Loeffelman</td>
  </tr>
    <tr>
    <td>Duke</td>
	<td><span class="badge badge-info">Buy</span></td>
    <td>20</td>
	<td>$40,400</td>
	<td>64</td>
	<td>Brent Thoenen</td>
  </tr>
</table>
</div>
		</div>
		<div class="col-lg-4 text-center">
			<h3>Searching help</h3>
			<hr />
			- Touch away <b>"Amount"</b> & <b>"Round"</b> to save space on a moble device<br /><br />
			- Search can takes two arguments. Example: "Buy Jacob"<br /><br />
			
			Will search all the times a person named Jacob bought
			
			
		</div>
	</div>
 </div>
 
 
<script>


function myFunction() {

	var isOnlyMe = $("input[name=isOnlyMe]:checked").val() == "True" ? true : false
	

  var input, filter, table, tr, tdTEAMNAME, tdAction, tdPerson, i;
  input = document.getElementById("teamSerachInput");
  filter = input.value.toUpperCase();
  var filters = filter.split(" ");
  
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
 
if(filters.length <= 1) {
	 for (i = 0; i < tr.length; i++) {
		tdTEAMNAME = tr[i].getElementsByTagName("td")[0];
		tdAction = tr[i].getElementsByTagName("td")[1];
		tdPerson = tr[i].getElementsByTagName("td")[5];
		if (tdTEAMNAME) {
		  if (tdTEAMNAME.innerHTML.toUpperCase().indexOf(filters[0]) > -1 || tdAction.innerHTML.toUpperCase().indexOf(filters[0]) > -1 || tdPerson.innerHTML.toUpperCase().indexOf(filters[0]) > -1) {
			tr[i].style.display = "";
		  } else {
			tr[i].style.display = "none";
		  }
		}       
	  }
  } else {
		  for (i = 0; i < tr.length; i++) {
				tdTEAMNAME = tr[i].getElementsByTagName("td")[0];
				tdAction = tr[i].getElementsByTagName("td")[1];
				tdPerson = tr[i].getElementsByTagName("td")[5];
				if (tdTEAMNAME) {
				  if ((tdTEAMNAME.innerHTML.toUpperCase().indexOf(filters[0]) > -1 || tdAction.innerHTML.toUpperCase().indexOf(filters[0]) > -1 || tdPerson.innerHTML.toUpperCase().indexOf(filters[0]) > -1)
				  && (tdTEAMNAME.innerHTML.toUpperCase().indexOf(filters[1]) > -1 || tdAction.innerHTML.toUpperCase().indexOf(filters[1]) > -1 || tdPerson.innerHTML.toUpperCase().indexOf(filters[1]) > -1)
				  ) {
					tr[i].style.display = "";
				  } else {
					tr[i].style.display = "none";
				  }
				}       
			  }
  }
  
  
  if(isOnlyMe)
	showOnlyme()
  
}

function showOnlyme() {
		
	var name = "Cory Loeffelman" // PHP print var here
	 
		$('tr').each(function(){
			var tr = $(this);
			if (tr.find('td:eq(5)').text() != name) 
				tr.hide()
});
	 
}


//TODO takes away headers on switch
function showEveryOne() {
		
	var name = "Cory Loeffelman" // PHP print var here
	 
		$('tr').each(function(){
			var tr = $(this);
				if (tr.find('td:eq(5)').text() != name || tr.find('td:eq(5)').text() == name) 
				tr.show()
});
	 
}



$(".dropdown-menu span").click(function(){
    var x = $(this).text()
	$("#teamSerachInput:text").val(x);
	myFunction()
});



//RIGHT NOW HIDES THE COL when header is clicked
$( "th" ).click(function() {
	
	if($(this).text() == "Amount" || $(this).text() == "Round") {
		var x = ($(this).index() + 1);
		$(this).css("display", "none");
		$("td:nth-child(" + x + ")").css("display", "none");
	}

});






/*
$( "td:nth-child(1)" ).click(function() {
	var x = $(this).text()
	$("#teamSerachInput:text").val(x);
	myFunction()

});
*/
</script>
   </body>
</html>